<template>
  <div class="profile-wrapper">
    <!-- ==== dialog ==== -->
    <div class="card flex justify-content-center">
        <Dialog v-model:visible="showDialog" modal header="Header" :style="{ width: '50rem' }" :breakpoints="{ '1199px': '75vw', '575px': '90vw' }">
                <template #header>
                    <div class="inline-flex align-items-center justify-content-center gap-2">
                        <Avatar image="https://primefaces.org/cdn/primevue/images/avatar/amyelsner.png" shape="circle" />
                        <span class="font-bold white-space-nowrap">Edit basic info</span>
                    </div>
                </template>
                <p class="m-0">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                </p>
                <template #footer>
                    <Button label="Ok" icon="pi pi-check" @click="showDialog = false" autofocus />
                </template>
            </Dialog>
        </div>
    <div class="banner relative rounded-sm h-[267px] md:h-[484px] box-shadow-basic">
      <div class="banner-img-box w-full h-[112px] md:h-[350px]">
        <img
          src="https://vcdn1-vnexpress.vnecdn.net/2019/07/30/anh-thien-nhien-dep-thang-7-1564483719.jpg?w=1200&h=0&q=100&dpr=1&fit=crop&s=Nl3znv-VRtPyhJYhLwwRfA"
          class="w-full h-full object-cover"
          alt="banner"
        />
      </div>
      <div class="absolute z-50 top-[50px] left-4 md:top-[235px] w-[84px] md:w-[150px]">
        <div
          class="relative rounded-full h-[84px] md:h-[150px] h overflow-hidden border-4 border-white"
        >
          <img
            src="https://vcdn1-vnexpress.vnecdn.net/2019/07/30/anh-thien-nhien-dep-thang-7-1564483719.jpg?w=1200&h=0&q=100&dpr=1&fit=crop&s=Nl3znv-VRtPyhJYhLwwRfA"
            class="w-full h-full object-cover"
            alt="banner"
          />

          <input type="file" ref="inputUploapAvatar" class="hidden" name="" id="">
          <button
          ref="btnUploadAvatar"
            class="rounded-full flex justify-center items-center bg-white overflow-hidden w-[26px] h-[26px] md:w-[30px] md:h-[30px] absolute right-0 bottom-1 md:right-2 md:bottom-4"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.99991 8.4102L11.0838 11.3796L10.0554 12.3701L8.72673 11.0905V15H7.27309V11.0891L5.94446 12.3701L4.91601 11.3796L7.99991 8.4102ZM7.99991 1C9.24785 1.00006 10.4522 1.44178 11.3841 2.24118C12.316 3.04059 12.9104 4.14192 13.0542 5.3358C13.9586 5.57332 14.7475 6.10937 15.2831 6.85027C15.8187 7.59117 16.067 8.48978 15.9845 9.38907C15.902 10.2884 15.4939 11.1311 14.8317 11.7701C14.1695 12.409 13.2952 12.8035 12.3616 12.8846V11.4748C12.696 11.4288 13.0176 11.3191 13.3076 11.1521C13.5975 10.9851 13.85 10.7641 14.0504 10.5021C14.2507 10.2401 14.3948 9.94224 14.4743 9.62599C14.5538 9.30974 14.5671 8.9814 14.5135 8.66015C14.4598 8.33889 14.3402 8.03115 14.1617 7.7549C13.9832 7.47864 13.7493 7.23939 13.4737 7.05113C13.1982 6.86286 12.8864 6.72935 12.5567 6.65839C12.227 6.58742 11.8859 6.58042 11.5533 6.6378C11.6672 6.12742 11.661 5.59898 11.5353 5.09119C11.4096 4.58339 11.1676 4.10911 10.8269 3.70307C10.4863 3.29703 10.0556 2.96952 9.56655 2.74454C9.07745 2.51955 8.5423 2.40278 8.00027 2.40278C7.45825 2.40278 6.92309 2.51955 6.434 2.74454C5.9449 2.96952 5.51426 3.29703 5.1736 3.70307C4.83295 4.10911 4.59091 4.58339 4.46523 5.09119C4.33954 5.59898 4.33339 6.12742 4.44722 6.6378C3.7841 6.51787 3.09869 6.65655 2.54174 7.02333C1.9848 7.39012 1.60195 7.95496 1.47743 8.5936C1.3529 9.23224 1.4969 9.89237 1.87773 10.4288C2.25857 10.9652 2.84505 11.3339 3.50816 11.4538L3.63899 11.4748V12.8846C2.70535 12.8036 1.83096 12.4092 1.16863 11.7703C0.506297 11.1314 0.0981622 10.2887 0.015557 9.38938C-0.0670482 8.49007 0.18113 7.5914 0.716716 6.85044C1.2523 6.10949 2.04123 5.57337 2.94561 5.3358C3.0893 4.14186 3.68362 3.04044 4.61553 2.24101C5.54744 1.44157 6.75193 0.999904 7.99991 1Z"
                fill="currentColor"
              />
              <path
                d="M7.99991 8.4102L11.0838 11.3796L10.0554 12.3701L8.72673 11.0905V15H7.27309V11.0891L5.94446 12.3701L4.91601 11.3796L7.99991 8.4102ZM7.99991 1C9.24785 1.00006 10.4522 1.44178 11.3841 2.24118C12.316 3.04059 12.9104 4.14192 13.0542 5.3358C13.9586 5.57332 14.7475 6.10937 15.2831 6.85027C15.8187 7.59117 16.067 8.48978 15.9845 9.38907C15.902 10.2884 15.4939 11.1311 14.8317 11.7701C14.1695 12.409 13.2952 12.8035 12.3616 12.8846V11.4748C12.696 11.4288 13.0176 11.3191 13.3076 11.1521C13.5975 10.9851 13.85 10.7641 14.0504 10.5021C14.2507 10.2401 14.3948 9.94224 14.4743 9.62599C14.5538 9.30974 14.5671 8.9814 14.5135 8.66015C14.4598 8.33889 14.3402 8.03115 14.1617 7.7549C13.9832 7.47864 13.7493 7.23939 13.4737 7.05113C13.1982 6.86286 12.8864 6.72935 12.5567 6.65839C12.227 6.58742 11.8859 6.58042 11.5533 6.6378C11.6672 6.12742 11.661 5.59898 11.5353 5.09119C11.4096 4.58339 11.1676 4.10911 10.8269 3.70307C10.4863 3.29703 10.0556 2.96952 9.56655 2.74454C9.07745 2.51955 8.5423 2.40278 8.00027 2.40278C7.45825 2.40278 6.92309 2.51955 6.434 2.74454C5.9449 2.96952 5.51426 3.29703 5.1736 3.70307C4.83295 4.10911 4.59091 4.58339 4.46523 5.09119C4.33954 5.59898 4.33339 6.12742 4.44722 6.6378C3.7841 6.51787 3.09869 6.65655 2.54174 7.02333C1.9848 7.39012 1.60195 7.95496 1.47743 8.5936C1.3529 9.23224 1.4969 9.89237 1.87773 10.4288C2.25857 10.9652 2.84505 11.3339 3.50816 11.4538L3.63899 11.4748V12.8846C2.70535 12.8036 1.83096 12.4092 1.16863 11.7703C0.506297 11.1314 0.0981622 10.2887 0.015557 9.38938C-0.0670482 8.49007 0.18113 7.5914 0.716716 6.85044C1.2523 6.10949 2.04123 5.57337 2.94561 5.3358C3.0893 4.14186 3.68362 3.04044 4.61553 2.24101C5.54744 1.44157 6.75193 0.999904 7.99991 1Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>

        <!-- <div class="flex flex-col">
                    <span class="font-bold text-2xl">Simon</span>
                    <span class="font-medium text-base text-secondary-4e">PHP Developer</span>
                </div> -->
      </div>

      <div class="flex justify-between mt-10 px-5">
        <div class="flex flex-col">
          <span class="font-bold md:text-2xl text-base">Simon</span>
          <span class="font-medium md:text-base text-xs text-secondary-4e">PHP Developer</span>
        </div>
        <div class="">
          <button
          @click="showDialog = !showDialog"
            class="focus:bg-secondary-4e text-sm font-medium py-1 px-2 md:py-2 md:px-3 bg-secondary1 rounded-md"
          >
            Edit basic info
          </button>
           <!-- <button 
          @v-if="false"
          class="text-sm text-white font-medium py-1 px-2 md:py-2 md:px-3 bg-green-500 rounded-md">Message</button> -->
          <!-- <button 
          @v-if="false"
          class="text-sm text-white font-medium py-1 px-2 md:py-2 md:px-3 bg-primary rounded-md">Follow</button> -->
        </div>
      </div>
    </div>
    <div class="bg-secondary1 rounded-md">
      <div class="md:px-30 md:pt-30 flex flex-col md:flex-row gap-2 md:gap-0">
        <!-- left col menu -->
        <div class="left p-4 rounded-md md:w-1/4 bg-white">
          <h5 class="font-bold text-sm md:text-md mb-3">INTRO</h5>
          <ul class="flex flex-col gap-2 md:gap-3 text-xs md:text-sm font-md">
            <li
            class="hover:text-secondary-33"
            v-for="(item, index) in [1,1,1,1,1,1,1,1]" :key="index">
                <router-link class="flex gap-2 items-center" :to="{name:'page.newsfeed'}">
                    <div class="">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346629 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM14.6667 8C14.6675 9.30647 14.282 10.584 13.5587 11.672L12.764 10.8767C12.7017 10.8142 12.6667 10.7296 12.6667 10.6413V10C12.6667 9.46957 12.456 8.96086 12.0809 8.58578C11.7058 8.21071 11.1971 8 10.6667 8H8.66667C8.48986 8 8.32029 7.92976 8.19526 7.80474C8.07024 7.67971 8 7.51014 8 7.33333V7C8 6.91159 8.03512 6.82681 8.09763 6.7643C8.16015 6.70178 8.24493 6.66667 8.33334 6.66667C8.77536 6.66667 9.19929 6.49107 9.51185 6.17851C9.82441 5.86595 10 5.44203 10 5V4.33333C10 4.24493 10.0351 4.16014 10.0976 4.09763C10.1601 4.03512 10.2449 4 10.3333 4H11.2527C11.6943 3.99874 12.1175 3.82339 12.4307 3.512L12.682 3.26067C13.3108 3.87938 13.8101 4.61709 14.1509 5.43078C14.4916 6.24447 14.6669 7.11785 14.6667 8ZM1.366 8.642L3.47134 10.7473C3.6566 10.9338 3.87706 11.0816 4.1199 11.1822C4.36275 11.2828 4.62315 11.3342 4.886 11.3333H6.66667C6.84348 11.3333 7.01305 11.4036 7.13807 11.5286C7.2631 11.6536 7.33334 11.8232 7.33334 12V14.6327C5.80013 14.4762 4.36827 13.7941 3.28062 12.7022C2.19298 11.6103 1.51652 10.1758 1.366 8.642ZM8.66667 14.6327V12C8.66667 11.4696 8.45596 10.9609 8.08088 10.5858C7.70581 10.2107 7.1971 10 6.66667 10H4.886C4.79835 10.0001 4.71154 9.98285 4.63055 9.94933C4.54956 9.91582 4.47597 9.86665 4.414 9.80466L1.442 6.83267C1.63279 5.74813 2.08983 4.72793 2.77212 3.86359C3.45441 2.99924 4.34061 2.31781 5.3512 1.88041C6.36179 1.44301 7.46516 1.26334 8.56231 1.35752C9.65946 1.4517 10.7161 1.81678 11.6373 2.42L11.488 2.56933C11.4252 2.63122 11.3408 2.66615 11.2527 2.66667H10.3333C9.89131 2.66667 9.46739 2.84226 9.15482 3.15482C8.84226 3.46738 8.66667 3.89131 8.66667 4.33333V5C8.66667 5.0884 8.63155 5.17319 8.56904 5.2357C8.50653 5.29821 8.42174 5.33333 8.33334 5.33333C7.89131 5.33333 7.46739 5.50893 7.15482 5.82149C6.84226 6.13405 6.66667 6.55797 6.66667 7V7.33333C6.66667 7.86377 6.87738 8.37247 7.25246 8.74755C7.62753 9.12262 8.13624 9.33333 8.66667 9.33333H10.6667C10.8435 9.33333 11.0131 9.40357 11.1381 9.52859C11.2631 9.65362 11.3333 9.82319 11.3333 10V10.6413C11.3346 11.0829 11.5099 11.5062 11.8213 11.8193L12.7127 12.7107C11.627 13.8001 10.1971 14.4794 8.66667 14.6327Z" fill="currentColor"/>
                            <path d="M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346629 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM14.6667 8C14.6675 9.30647 14.282 10.584 13.5587 11.672L12.764 10.8767C12.7017 10.8142 12.6667 10.7296 12.6667 10.6413V10C12.6667 9.46957 12.456 8.96086 12.0809 8.58578C11.7058 8.21071 11.1971 8 10.6667 8H8.66667C8.48986 8 8.32029 7.92976 8.19526 7.80474C8.07024 7.67971 8 7.51014 8 7.33333V7C8 6.91159 8.03512 6.82681 8.09763 6.7643C8.16015 6.70178 8.24493 6.66667 8.33334 6.66667C8.77536 6.66667 9.19929 6.49107 9.51185 6.17851C9.82441 5.86595 10 5.44203 10 5V4.33333C10 4.24493 10.0351 4.16014 10.0976 4.09763C10.1601 4.03512 10.2449 4 10.3333 4H11.2527C11.6943 3.99874 12.1175 3.82339 12.4307 3.512L12.682 3.26067C13.3108 3.87938 13.8101 4.61709 14.1509 5.43078C14.4916 6.24447 14.6669 7.11785 14.6667 8ZM1.366 8.642L3.47134 10.7473C3.6566 10.9338 3.87706 11.0816 4.1199 11.1822C4.36275 11.2828 4.62315 11.3342 4.886 11.3333H6.66667C6.84348 11.3333 7.01305 11.4036 7.13807 11.5286C7.2631 11.6536 7.33334 11.8232 7.33334 12V14.6327C5.80013 14.4762 4.36827 13.7941 3.28062 12.7022C2.19298 11.6103 1.51652 10.1758 1.366 8.642ZM8.66667 14.6327V12C8.66667 11.4696 8.45596 10.9609 8.08088 10.5858C7.70581 10.2107 7.1971 10 6.66667 10H4.886C4.79835 10.0001 4.71154 9.98285 4.63055 9.94933C4.54956 9.91582 4.47597 9.86665 4.414 9.80466L1.442 6.83267C1.63279 5.74813 2.08983 4.72793 2.77212 3.86359C3.45441 2.99924 4.34061 2.31781 5.3512 1.88041C6.36179 1.44301 7.46516 1.26334 8.56231 1.35752C9.65946 1.4517 10.7161 1.81678 11.6373 2.42L11.488 2.56933C11.4252 2.63122 11.3408 2.66615 11.2527 2.66667H10.3333C9.89131 2.66667 9.46739 2.84226 9.15482 3.15482C8.84226 3.46738 8.66667 3.89131 8.66667 4.33333V5C8.66667 5.0884 8.63155 5.17319 8.56904 5.2357C8.50653 5.29821 8.42174 5.33333 8.33334 5.33333C7.89131 5.33333 7.46739 5.50893 7.15482 5.82149C6.84226 6.13405 6.66667 6.55797 6.66667 7V7.33333C6.66667 7.86377 6.87738 8.37247 7.25246 8.74755C7.62753 9.12262 8.13624 9.33333 8.66667 9.33333H10.6667C10.8435 9.33333 11.0131 9.40357 11.1381 9.52859C11.2631 9.65362 11.3333 9.82319 11.3333 10V10.6413C11.3346 11.0829 11.5099 11.5062 11.8213 11.8193L12.7127 12.7107C11.627 13.8001 10.1971 14.4794 8.66667 14.6327Z" fill="currentColor"/>
                            </svg>
                    </div>
                    <span>hieptvh.vn</span>
                </router-link>
            </li>

            <li>
                <button
                @click="showDialog = !showDialog"
                 class="w-full text-xs md:text-sm font-md rounded-md focus:bg-secondary-33 bg-secondary1 px-3 py-2">Edit Details</button>
            </li>
          </ul>
        </div>
        <!-- right col post content -->
        <div class="right px-4 rounded-md md:w-3/4 ">
            <div class="">
                <CreateNewsFeed/>
            </div>
            <div class="">
                <post-items></post-items>
            </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { useRoute } from 'vue-router'
import CreateNewsFeed from '@/components/newsfeed/CreateNewsFeed.vue';
import PostItems from '@/components/newsfeed/PostItems.vue';
import Dialog from 'primevue/dialog';
import {ref,onMounted} from 'vue';

const username = useRoute().params.username;
const showDialog = ref(false);
const inputUploapAvatar = ref(null);
const btnUploadAvatar = ref(null);

onMounted(()=>{
  btnUploadAvatar.value.addEventListener('click', () => inputUploapAvatar.value.click())
})

</script>
